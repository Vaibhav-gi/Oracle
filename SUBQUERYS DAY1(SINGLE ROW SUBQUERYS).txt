
                              SUB QUERYS 
                            ===============

        Query within another query is called as Subquery or Nested query.
Subquerys are used to retrieve data from single or multiple tables by using
more than one step process. 


     All relational databases having two types of subquerys.
These are.

   1)Non Correlated subquerys
   2)Correlated subquerys


  In Non corelated subquerys child query is executed first then
only parent query is executed, whereas in correlated sub querys 
parent query is executed first then only child query is executed.

1)Non Correlated subquerys:-
==============================
Non Corelated subquerys having two parts.
1)Child query
2)Parent query

1)child query:- A query which provides values into another query
==============   is called child query or inner query.


2)parent query:- A query which receives values from another query 
================= is called parent query or outer query.


.In non-correlated subquerys maximum limit is up to 255 querys.


NON CORELATED SUBQUERYS:-
=========================
        |
        |----------->1)single row sub querys
        |----------->2)multiple row sub querys
        |----------->3)multiple column sub querys
        |----------->4)inline views (or)subquery are used in from
                       clause.


1)single row subquerys
=======================
    When child query returns single value then those querys are 
called single row subquerys. In single row sub query's we are 
using =,<,>,<=,>=, between operators.


RULES:-
=======
1)90%    --------->same column
2)5%     --------->group function
3)3%     --------->expressions
4)2%     --------->different column

                                       
select * from emp where condition=(select ............)

      
EG:-
===
SQL> select max(sal) from emp where sal<(select max(sal) from emp);

        Display mechanism in              Task in right hand
         left hand side                        side  

-----------------------------------------------------------------------------------
1.Write a query to display the employees who are getting more salary 
  than the average salary from emp?
QUERY:
	SELECT * FROM EMP WHERE SAL > (SELECT AVG(SAL) FROM EMP);


2.Write a query to display senior most employee details from emp table?
QUERY: 	
	SELECT * FROM EMP WHERE HIREDATE = (SELECT MIN(HIREDATE) FROM EMP);


3.Write a query to display the employees who are getting
    more salary than the highest paid employee in 20th
               department from emp table?
QUERY:
	SELECT * FROM EMP WHERE SAL > (SELECT MAX(SAL) FROM EMP WHERE DEPTNO = 20); 


4.Write a query to display the employees who are getting
    more salary than the lowest paid employee in 10th
             department from emp table?
QUERY:
	SELECT * FROM EMP WHERE SAL > (SELECT MIN(SAL) FROM EMP WHERE DEPTNO = 10);


5.Write a query to display the employees who are working in
  SMITH department number from emp table?
QUERY:
	SELECT * FROM EMP WHERE DEPTNO = (SELECT DEPTNO FROM EMP WHERE ENAME = 'SMITH');


6.Write a query to display the employee records who are earning more salary
  than the BLAKE salary?
QUERY:
	SELECT * FROM EMP WHERE SAL > (SELECT SAL FROM EMP WHERE ENAME='BLAKE');


7.Write a query to display the employee records whose job title is same as ALLEN?
QUERY:
	SELECT * FROM EMP WHERE JOB = (SELECT JOB FROM EMP WHERE ENAME = 'ALLEN');


8.Write a query to display 2nd maximum salary (or) 2nd highest salary
  from emp table?
QUERY:
	SELECT MAX(SAL) FROM EMP WHERE SAL < (SELECT MAX(SAL) FROM EMP);


9.Write a query to display 2nd maximum salary employee details from 
  emp table?
QUERY:
	SELECT * FROM EMP WHERE SAL=(SELECT MAX(SAL) FROM EMP WHERE SAL < (SELECT MAX(SAL) FROM EMP));


10.Find the employee name who is earning maximum salary from emp table?
QUERY:
	SELECT ENAME FROM EMP WHERE SAL = (SELECT MAX(SAL) FROM EMP);


11.Write a query to display the employee records who are senior to BLAKE?
QUERY:

	SELECT * FROM EMP WHERE HIREDATE<(SELECT HIREDATE FROM EMP WHERE ENAME='BLAKE');


12.Write a query to display the employees who are working in SALES
   department from emp,dept tables by using subquery ?
QUERY:
	SELECT * FROM EMP WHERE DEPTNO = (SELECT DEPTNO FROM DEPT WHERE DNAME = 'SALES');


13.Write a query to display the employees who are getting more
   salary than the ALLEN salary and job same as JONES job?
QUERY:
	SELECT * FROM EMP WHERE SAL > (SELECT SAL FROM EMP WHERE ENAME = 'ALLEN') AND JOB = (SELECT JOB FROM EMP WHERE ENAME = 'JONES');


14.Write a query to display the employees who are working
      under BLAKE as a Manager from emp table by using
                  empno,mgr columns?
QUERY:
	SELECT * FROM EMP WHERE MGR = (SELECT EMPNO FROM EMP WHERE ENAME = 'BLAKE');


